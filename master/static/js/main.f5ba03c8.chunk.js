(this["webpackJsonpswipe-the-curve"]=this["webpackJsonpswipe-the-curve"]||[]).push([[6],{188:function(t,e,n){t.exports=n(388)},194:function(t,e,n){var r={"./ion-action-sheet-ios.entry.js":[392,36],"./ion-action-sheet-md.entry.js":[393,37],"./ion-alert-ios.entry.js":[394,20],"./ion-alert-md.entry.js":[395,21],"./ion-app_8-ios.entry.js":[396,9],"./ion-app_8-md.entry.js":[397,10],"./ion-avatar_3-ios.entry.js":[398,38],"./ion-avatar_3-md.entry.js":[399,39],"./ion-back-button-ios.entry.js":[400,40],"./ion-back-button-md.entry.js":[401,41],"./ion-backdrop-ios.entry.js":[402,78],"./ion-backdrop-md.entry.js":[403,79],"./ion-button_2-ios.entry.js":[404,42],"./ion-button_2-md.entry.js":[405,43],"./ion-card_5-ios.entry.js":[406,44],"./ion-card_5-md.entry.js":[407,45],"./ion-checkbox-ios.entry.js":[408,46],"./ion-checkbox-md.entry.js":[409,47],"./ion-chip-ios.entry.js":[410,48],"./ion-chip-md.entry.js":[411,49],"./ion-col_3.entry.js":[412,80],"./ion-datetime_3-ios.entry.js":[413,16],"./ion-datetime_3-md.entry.js":[414,17],"./ion-fab_3-ios.entry.js":[415,50],"./ion-fab_3-md.entry.js":[416,51],"./ion-img.entry.js":[417,81],"./ion-infinite-scroll_2-ios.entry.js":[418,34],"./ion-infinite-scroll_2-md.entry.js":[419,35],"./ion-input-ios.entry.js":[420,52],"./ion-input-md.entry.js":[421,53],"./ion-item-option_3-ios.entry.js":[422,54],"./ion-item-option_3-md.entry.js":[423,55],"./ion-item_8-ios.entry.js":[424,56],"./ion-item_8-md.entry.js":[425,57],"./ion-loading-ios.entry.js":[426,22],"./ion-loading-md.entry.js":[427,23],"./ion-menu_3-ios.entry.js":[428,58],"./ion-menu_3-md.entry.js":[429,59],"./ion-modal-ios.entry.js":[430,11],"./ion-modal-md.entry.js":[431,12],"./ion-nav_2.entry.js":[432,15],"./ion-popover-ios.entry.js":[433,13],"./ion-popover-md.entry.js":[434,14],"./ion-progress-bar-ios.entry.js":[435,60],"./ion-progress-bar-md.entry.js":[436,61],"./ion-radio_2-ios.entry.js":[437,62],"./ion-radio_2-md.entry.js":[438,63],"./ion-range-ios.entry.js":[439,64],"./ion-range-md.entry.js":[440,65],"./ion-refresher_2-ios.entry.js":[441,24],"./ion-refresher_2-md.entry.js":[442,25],"./ion-reorder_2-ios.entry.js":[443,32],"./ion-reorder_2-md.entry.js":[444,33],"./ion-ripple-effect.entry.js":[445,82],"./ion-route_4.entry.js":[446,66],"./ion-searchbar-ios.entry.js":[447,67],"./ion-searchbar-md.entry.js":[448,68],"./ion-segment_2-ios.entry.js":[449,69],"./ion-segment_2-md.entry.js":[450,70],"./ion-select_3-ios.entry.js":[451,71],"./ion-select_3-md.entry.js":[452,72],"./ion-slide_2-ios.entry.js":[453,83],"./ion-slide_2-md.entry.js":[454,84],"./ion-spinner.entry.js":[455,28],"./ion-split-pane-ios.entry.js":[456,85],"./ion-split-pane-md.entry.js":[457,86],"./ion-tab-bar_2-ios.entry.js":[458,73],"./ion-tab-bar_2-md.entry.js":[459,74],"./ion-tab_2.entry.js":[460,31],"./ion-text.entry.js":[461,75],"./ion-textarea-ios.entry.js":[462,76],"./ion-textarea-md.entry.js":[463,77],"./ion-toast-ios.entry.js":[464,26],"./ion-toast-md.entry.js":[465,27],"./ion-toggle-ios.entry.js":[466,18],"./ion-toggle-md.entry.js":[467,19],"./ion-virtual-scroll.entry.js":[468,87]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return n.e(e[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=194,t.exports=i},196:function(t,e,n){var r={"./ion-icon.entry.js":[472,93]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return n.e(e[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=196,t.exports=i},376:function(t,e,n){},387:function(t,e,n){},388:function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),a=n(38),o=n.n(a),s=n(15),c=n(33),l=n(35),u=n(6),f=n(8),h=function(){function t(e,n){Object(u.a)(this,t),this.infected=e,this.susceptibles=n,this.recovered=0,this.dead=0}return Object(f.a)(t,[{key:"step",value:function(t,e,n){console.log("RateOfInfection: ".concat(t,"\nRateOfDeath: ").concat(e,"\nRateOfImmunity: ").concat(n));var r=1-e,i=Math.floor(Math.min(Math.max(n*this.susceptibles,0),this.susceptibles)),a=Math.floor(Math.min(Math.max(t*this.susceptibles*this.infected,0),this.susceptibles)),o=Math.floor(Math.min(Math.max(r*this.infected,0),this.infected)),s=Math.floor(Math.min(Math.max(e*this.infected,0),this.infected-o));return this.susceptibles=this.susceptibles-a-i,this.infected=this.infected+a-o-s,this.recovered=this.recovered+o,this.dead=this.dead+s,new d(this.recovered,this.infected,this.dead)}}]),t}(),d=function t(e,n,r){Object(u.a)(this,t),this.recovered=e,this.infected=n,this.dead=r,this.healthcareSystemCapacity=0},m=function t(e,n,r,i){Object(u.a)(this,t),this.name=e,this.rateOfInfection=n,this.rateOfDeath=r,this.rateOfImmunity=i},y=function t(e,n){Object(u.a)(this,t),this.name=e,this.population=n},p=n(24),j=n(14),v=n(10);function b(t){return function(){var e,n=Object(j.a)(t);if(g()){var r=Object(j.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(p.a)(this,e)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var O=function(t){Object(v.a)(n,t);var e=b(n);function n(t,r,i){var a;return Object(u.a)(this,n),(a=e.call(this,t)).leftChoice=r,a.rightChoice=i,a}return n}((function t(e){Object(u.a)(this,t),this.text=e})),S=function(t){Object(v.a)(n,t);var e=b(n);function n(t,r){var i;return Object(u.a)(this,n),(i=e.call(this,t,r,r)).choice=r,i}return n}(O),w=function t(e,n){Object(u.a)(this,t),this.text=e,this.effect=n},E=function t(e,n,r,i){Object(u.a)(this,t),this.populationMood=e,this.economy=n,this.rateOfQuarantining=r,this.healthSystemCapacity=i};function C(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var M=function(t){Object(v.a)(r,t);var e,n=(e=r,function(){var t,n=Object(j.a)(e);if(x()){var r=Object(j.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(p.a)(this,t)});function r(){return Object(u.a)(this,r),n.apply(this,arguments)}return Object(f.a)(r,[{key:"elementFromObject",value:function(t){var e=t.type.toLowerCase(),n=t.text;switch(e){case"selection":var r=this.choiceFromObject(t.leftChoice),i=this.choiceFromObject(t.rightChoice);return new O(n,r,i);case"event":var a=this.choiceFromObject(t.choice);return new S(n,a);default:throw new Error("Can't create cards of type ".concat(e))}}},{key:"choiceFromObject",value:function(t){var e=t.text,n=t.effect,r=new E(n.populationMood||0,n.economy||0,n.rateOfQuarantining||0,n.healthSystemCapacity||0);return new w(e,r)}}]),r}(function(t){Object(v.a)(r,t);var e,n=(e=r,function(){var t,n=Object(j.a)(e);if(k()){var r=Object(j.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(p.a)(this,t)});function r(){return Object(u.a)(this,r),n.apply(this,arguments)}return Object(f.a)(r,[{key:"fromObject",value:function(t){var e,n=[],r=C(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n.push(this.elementFromObject(i))}}catch(a){r.e(a)}finally{r.f()}return n}}]),r}(function(){function t(){Object(u.a)(this,t)}return Object(f.a)(t,[{key:"fromJson",value:function(t){return this.fromObject(JSON.parse(t))}}]),t}()));function A(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var D=function(){function t(){var e=this;Object(u.a)(this,t),this.epidemicStates=void 0,this.model=void 0,this.gameState=void 0,this.cards=[],this.stateListeners=void 0;var n=new m("Corona",2.3,.005,0),r=new y("SCHLAND",8e7);fetch("https://swipe-the-curve.github.io/swipe-the-curve/master/assets/cards/default.json").then((function(t){return t.json()})).then((function(t){e.cards=(new M).fromObject(t).reverse(),e.gameState.currentCard=e.nextCard(),e.notifyListeners()}));var i=new L(r,n,4e-4);this.gameState=new R(i,r),this.model=new h(0,r.population),this.model.infected=1;var a=new d(0,0,0);a.healthcareSystemCapacity=i.healthcareSystemCapacity*r.population,this.epidemicStates=[a],this.stateListeners=[]}return Object(f.a)(t,[{key:"step",value:function(t){this.gameState.populationMood+=t.populationMood,this.gameState.economy+=t.economy,this.gameState.infectionState.healthcareSystemCapacity+=t.healthSystemCapacity,this.gameState.infectionState.rateOfQuarantining+=t.rateOfQuarantining;var e=this.model.step(this.gameState.infectionState.rateOfInfection/this.gameState.country.population,this.gameState.infectionState.rateOfDeath(this.epidemicStates[this.epidemicStates.length-1]),this.gameState.infectionState.rateOfImmunity);e.healthcareSystemCapacity=this.gameState.infectionState.healthcareSystemCapacity*this.gameState.country.population,this.epidemicStates.push(e),this.gameState.currentCard=this.nextCard(),this.notifyListeners()}},{key:"dummy",value:function(){this.gameState.economy-=.1,this.epidemicStates.push(new d(1,2,3)),this.notifyListeners()}},{key:"nextCard",value:function(){return this.cards.pop()}},{key:"addStateListener",value:function(t){this.stateListeners.push(t)}},{key:"notifyListeners",value:function(){var t,e=A(this.stateListeners);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(n){e.e(n)}finally{e.f()}}},{key:"daysPassed",get:function(){return this.epidemicStates.length}}]),t}(),R=function t(e,n){Object(u.a)(this,t),this.infectionState=e,this.country=n,this.populationMood=.8,this.economy=.8,this.currentCard=void 0},L=function(){function t(e,n,r){Object(u.a)(this,t),this.country=e,this.disease=n,this.healthcareSystemCapacity=r,this.rateOfQuarantining=0}return Object(f.a)(t,[{key:"rateOfDeath",value:function(t){var e=this.healthcareSystemCapacity*this.country.population,n=Math.max(t.infected-e,0)/e;return Math.min(this.disease.rateOfDeath*(1+n),1)}},{key:"rateOfInfection",get:function(){var t=1-this.rateOfQuarantining;return this.disease.rateOfInfection*t}},{key:"rateOfImmunity",get:function(){return this.disease.rateOfImmunity}}]),t}(),N=new D,P=function(){var t=Object(r.useState)([{name:"Tag 0",infected:0,recovered:0,dead:0,capacity:0}]),e=Object(c.a)(t,2),n=e[0],a=e[1];return Object(r.useEffect)((function(){console.log("addEventlistener"),N.addStateListener((function(){var t=N.epidemicStates.map((function(t,e){return{name:"Tag ".concat(e+1),infected:t.infected,recovered:t.recovered,dead:t.dead,capacity:t.healthcareSystemCapacity}}));a(t)}))}),[]),console.log("EpidState: ",n),i.a.createElement("div",{className:"full-width"},i.a.createElement(l.d,{height:"100%",width:"100%"},i.a.createElement(l.b,{data:n,margin:{left:-2}},i.a.createElement(l.e,null),i.a.createElement(l.a,{isAnimationActive:!1,type:"monotone",dataKey:"infected",stackId:"1",stroke:"#f53d3d",fill:"#f53d3d"}),i.a.createElement(l.a,{isAnimationActive:!1,type:"monotone",dataKey:"recovered",stackId:"1",stroke:"#4db374",fill:"#4db374"}),i.a.createElement(l.a,{isAnimationActive:!1,type:"monotone",dataKey:"dead",stackId:"1",stroke:"#3b1111",fill:"#3b1111"}),i.a.createElement(l.c,{isAnimationActive:!1,type:"monotone",dataKey:"capacity",stroke:"#000000",strokeDasharray:"3",dot:!1}))))},T=(n(376),n(51)),F=function(t){return i.a.createElement("div",{className:"card shadow"},t.card&&t.card.text)},H=function(){var t=Object(r.useState)(new S("test",new w("Test",new E(0,0,0,0)))),e=Object(c.a)(t,2),n=e[0],a=e[1];Object(r.useEffect)((function(){console.log("addEventlistener"),N.addStateListener((function(){N.gameState.currentCard&&a(N.gameState.currentCard)}))}),[]);var o=function(t){t!==T.b.RIGHT?t!==T.b.LEFT||n instanceof O&&N.step(n.rightChoice.effect):n instanceof O&&N.step(n.leftChoice.effect)};return i.a.createElement("div",null,i.a.createElement(T.a,{onSwipe:o},i.a.createElement("div",{className:""},i.a.createElement(F,{card:n}))),i.a.createElement("div",{className:"backgroundCard"},i.a.createElement(F,{card:void 0})),i.a.createElement("div",{className:"choices"},i.a.createElement("div",{className:"choice leftChoice",onClick:function(){o(T.b.LEFT)}},n.leftChoice.text),i.a.createElement("div",{className:"choice rigthChoice",onClick:function(){o(T.b.RIGHT)}},n.rightChoice.text)))},W=function(){var t=Object(r.useState)(1),e=Object(c.a)(t,2),n=e[0],a=e[1],o=Object(r.useState)(1),l=Object(c.a)(o,2),u=l[0],f=l[1],h=Object(r.useState)(1),d=Object(c.a)(h,2),m=d[0],y=d[1];return Object(r.useEffect)((function(){console.log("addEventlistener"),N.addStateListener((function(){a(1),f(N.gameState.populationMood),y(N.gameState.economy)}))}),[]),i.a.createElement(s.e,null,i.a.createElement(s.c,null,i.a.createElement(s.d,null,i.a.createElement(s.f,{className:"curve-container"},i.a.createElement(P,null)),i.a.createElement(s.f,{className:"resource-container"},i.a.createElement(s.b,null,i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5vw",height:"5vh",viewBox:"0 0 512 512"},i.a.createElement("title",null,"Heart"),i.a.createElement("defs",null,i.a.createElement("linearGradient",{id:"progressHeart",x1:"0",y1:"1",x2:"0",y2:"0"},i.a.createElement("stop",{id:"stop1Heart",offset:n,"stop-color":"red"}),i.a.createElement("stop",{id:"stop2Heart",offset:n,"stop-color":"#D5A021"}))),i.a.createElement("path",{d:"M352.92,80C288,80,256,144,256,144s-32-64-96.92-64C106.32,80,64.54,124.14,64,176.81c-1.1,109.33,86.73,187.08,183,252.42a16,16,0,0,0,18,0c96.26-65.34,184.09-143.09,183-252.42C447.46,124.14,405.68,80,352.92,80Z",fill:"url(#progressHeart)"}))),i.a.createElement(s.b,null,i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5vw",height:"5vh",viewBox:"0 0 512 512"},i.a.createElement("title",null,"People"),i.a.createElement("defs",null,i.a.createElement("linearGradient",{id:"progressPeople",x1:"0",y1:"1",x2:"0",y2:"0"},i.a.createElement("stop",{id:"stop1People",offset:u,"stop-color":"red"}),i.a.createElement("stop",{id:"stop2People",offset:u,"stop-color":"#D5A021"}))),i.a.createElement("path",{d:"M402,168c-2.93,40.67-33.1,72-66,72s-63.12-31.32-66-72c-3-42.31,26.37-72,66-72S405,126.46,402,168Z M336,304c-65.17,0-127.84,32.37-143.54,95.41-2.08,8.34,3.15,16.59,11.72,16.59H467.83c8.57,0,13.77-8.25,11.72-16.59C463.85,335.36,401.18,304,336,304Z M200,185.94C197.66,218.42,173.28,244,147,244S96.3,218.43,94,185.94C91.61,152.15,115.34,128,147,128S202.39,152.77,200,185.94Z M206,306c-18.05-8.27-37.93-11.45-59-11.45-52,0-102.1,25.85-114.65,76.2C30.7,377.41,34.88,384,41.72,384H154",fill:"url(#progressPeople)"}))),i.a.createElement(s.b,null,i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5vw",height:"5vh",viewBox:"0 0 512 512"},i.a.createElement("title",null,"Wealth"),i.a.createElement("defs",null,i.a.createElement("linearGradient",{id:"progressWealth",x1:"0",y1:"1",x2:"0",y2:"0"},i.a.createElement("stop",{id:"stop1Wealth",offset:m,"stop-color":"red"}),i.a.createElement("stop",{id:"stop2Wealth",offset:m,"stop-color":"#D5A021"}))),i.a.createElement("path",{d:"M448,256c0-106-86-192-192-192S64,150,64,256s86,192,192,192S448,362,448,256Z",fill:"url(#progressWealth)"})))),i.a.createElement(s.f,{className:"cardstack-container"},i.a.createElement(s.b,null,i.a.createElement(H,null))))))},Q=(n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),function(){return i.a.createElement(s.a,null,i.a.createElement(W,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[188,7,8]]]);
//# sourceMappingURL=main.f5ba03c8.chunk.js.map